package main
 
func main() {
    ch := make(chan int)

	// запускается горутина, которая отправляет в канал числа от 0 до 9 и завершается, не закрыв канал
    go func() {
        for i := 0; i < 10; i++ {
            ch <- i
        }
    }()
 
	// тем временем главная горутина считывает числа из канала до его закрытия
    for n := range ch {
        println(n)		// последовательно выведет числа от 0 до 9,
						// а затем программа завершится с ошибкой "deadlock",
						// так как единственная оставшаяся горутина продолжает ждать числа из незакрытого канала вечно
    }
}
